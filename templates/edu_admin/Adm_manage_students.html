{% extends 'adm_based.html' %}
{% load staticfiles %}
{% block title %}SDNU-Adm-manage-student{% endblock %}
{% block content %}

{#    {% if error_message %}#}
{#        <script type="text/javascript">#}
{#            alert("{{ error_message }}");#}
{#            window.location.href = "/edu_admin/Adm_manage_students.html";#}
{#        </script>#}
{#    {% else %}#}
{#        <script>#}
{#        alert("{{ error_message }}")#}
{#        </script>#}
{#    {% endif %}#}

    {% if return_add %}
        <script type="text/javascript">
            alert("信息录入成功！");
            window.location.href = "/edu_admin/Adm_manage_students.html";
        </script>
    {% elif return_add == False %}
        <script type="text/javascript">
            alert("{{ error_message }}");
            window.location.href = "/edu_admin/Adm_manage_students.html";
        </script>
    {% else %}
    {% endif %}

    {% if return_select %}
        <script type="text/javascript">
            alert("姓名：{{ user.name }}\n学院：{{ user.school }}\n班级：{{ user.sclass }}");
            window.location.href = "/edu_admin/Adm_manage_students.html";
        </script>
    {% elif return_select == False %}
        <script type="text/javascript">
            alert("查无此人");
            window.location.href = "/edu_admin/Adm_manage_students.html";
        </script>
    {% else %}
    {% endif %}




    <div class="body_container1">

        <div class="return_top">
            <a href="#return_button_top">
                <img src="{% static '/images/codingmonkey.png' %}" class="codingmonkey"> </a>
        </div>
        <div class="body_background3">
            <div style="font-size: 40px;margin: auto;padding-top: 40px;padding-left: 20px;color: #5a1216">管理学生</div>
            <div class="manage—stu">
                <!-- --------------------------------   添加学生信息------------------------------>
                <div class="big">
                    <div class="head">
                        <span><span class="icon-plus"></span>&nbsp;添加学生信息</span><br>
                    </div>
                    <div class="formd">
                        <form action="." class="form-inline" name="add_form" role="form" method="POST">{% csrf_token %}
                            <div class="form-group">
                                <label class="sr-only" for="{{ form.name.id_for_label }}">名称</label>
                                <div>{{ form.name }}</div>
                                {#                                <input type="text" class="form-control" id="name"#}
                                {#                                       placeholder="请输入学生姓名" style="width: 200px">#}
                            </div>
                            <div class="form-group">
                                <label class="sr-only" for="{{ form.username.id_for_label }}">名称</label>
                                <div>{{ form.username }}</div>
                                {#                                <input type="text" class="form-control" id="id"#}
                                {#                                       placeholder="请输入学生学号" style="width: 200px">#}
                            </div>
{#                            <div class="form-group">#}
{#                                <label class="sr-only" for="{{ form.password.id_for_label }}">名称</label>#}
{#                                <div>{{ form.password }}</div>#}
                                {#                                <input type="text" class="form-control" id="pw"#}
                                {#                                       placeholder="请输入学生密码" style="width: 200px">#}
{#                            </div>#}
                            <div class="form-group">
                                <label class="sr-only" for="{{ form.major.id_for_label }}">名称</label>
                                <div>{{ form.major }}</div>
                                {#                                <input type="text" class="form-control" id="major"#}
                                {#                                       placeholder="请输入专业" style="width: 200px">#}
                            </div>
                            <div class="form-group">
                                <label class="sr-only" for="{{ form.sclass.id_for_label }}">名称</label>
                                <div>{{ form.sclass }}</div>
                                {#                                <input type="text" class="form-control" id="class"#}
                                {#                                       placeholder="请输入班级" style="width: 200px">#}
                            </div>

                            <button type="submit" class="btn btn-default" name="add_button" value="add_button_commit">
                                添加
                            </button>
                        </form>
                    </div>
                </div>

                <!-- --------------------------------   查询学生信息------------------------------>
                <div class="big">
                    <div class="head">
                        <span><span class="icon-binoculars"></span>&nbsp;查询学生信息</span><br>
                    </div>
                    <div class="formd">
                        <form action="." method="post" class="form-inline" role="form">{% csrf_token %}
                            <div class="form-group">
                                <label class="sr-only" for="{{ form.username.id_for_label }}">名称</label>
                                <div>{{ form.username }}</div>
                                {#                                <label class="sr-only" for="name">名称</label>#}
                                {#                                <input type="text" class="form-control" id="id"#}
                                {#                                       placeholder="请输入学生学号" style="width: 200px">#}
                            </div>
                            {#                            <div class="checkbox">#}
                            {#                                <label>#}
                            {#                                    <input type="checkbox"> 确认#}
                            {#                                </label>#}
                            {#                            </div>#}
                            <button type="submit" class="btn btn-default" name="select_button"
                                    value="select_button_commit">查询
                            </button>
                        </form>
                    </div>
                </div>
                <!-- --------------------------------   批量导入学生信息------------------------------>
                <div class="big">
                    <div class="head">
                        <span><span class="icon-folder-upload"></span>&nbsp;批量导入学生信息</span><br>
                    </div>
                    <div class="formd">

                        {#                        <form action="">#}
                        {#                            <a href="{% url 'crm_download' %}">下载模板</a>#}
                        {#                            <p><input type="file" name="xsfile"></p>#}
                        {#                            <p><input type="submit" value="提交"></p>#}
                        {#                        </form>#}

                        <form enctype="multipart/form-data" action="." method="post" class="form-inline"
                              role="form">{% csrf_token %}
                            {#                            <div class="form-group">#}
                            {#                                <label class="sr-only" for="name">名称</label>#}
                            {#                                <input type="text" class="form-control" id="name"#}
                            {#                                       placeholder="请输入名称" style="width: 200px">#}
                            {#                            </div>#}
                            <div class="form-group">
                                <a href="{% url 'edu_admin:student_import' %}">下载模板</a>
                            </div>
                            {#                            <div class="form-group">#}
                            {#                                <label class="sr-only" for="inputfile">文件输入</label>#}
{#                            <a href="javascript:;" class="select_file"#}
{#                               style="margin-right:200px;padding: 4px 8px ;height: 20px;line-height: 20px;position: relative;border: 1px solid #999;text-decoration: none;color:#666">选择文件</a>#}

                            <input type="file" id="inputfile" name="myfile">

                            <input type="submit" value="上传" name="file_button">
                            {#                            </div>#}

                            {#                            <div class="checkbox">#}
                            {#                                <label>#}
                            {#                                    <input type="checkbox"> 确认#}
                            {#                                </label>#}
                            {#                            </div>#}
{#                            <button type="submit" class="btn btn-default" name="file_button">导入</button>#}
                        </form>
                    </div>
                </div>
                <div class="Adu_table">
                    <select name="college">
                        <option value="" disabled selected>选择学院</option>
                        <option value="信息科学与工程学院">信息科学与工程学院</option>
                        <option value="数学科学学院">数学科学学院</option>
                        <option value="体育学院">体育学院</option>
                        <option value="物理与电子科学学院">物理与电子科学学院</option>
                        <option value="化学化工与材料科学学院">化学化工与材料科学学院</option>
                        <option value="生命科学学院">生命科学学院</option>
                        <option value="人口·资源与环境学院">人口·资源与环境学院</option>
                        <option value="传播学院">传播学院</option>
                        <option value="美术学院">美术学院</option>
                        <option value="音乐学院">音乐学院</option>
                        <option value="教育学院">教育学院</option>
                        <option value="历史文化与社会发展学院">历史文化与社会发展学院</option>
                        <option value="政法学院">政法学院</option>
                        <option value="外国语学院">外国语学院</option>
                        <option value="教育学院">教育学院</option>

                        <option value="文学院">文学院</option>
                    </select>
                    <select name="stu_major">
                        <option value="" disabled selected>选择专业</option>
                        <option value="计算机科学与技术（软件工程方向）">计算机科学与技术（软件工程方向）</option>
                        <option value="计算机科学与技术（信息技术方向）">计算机科学与技术（信息技术方向）</option>
                        <option value="计算机科学与技术">计算机科学与技术</option>
                    </select>
                    <select name="stu_grade">
                        <option value="" disabled selected>选择年级</option>
                        <option value="2016级">2016级</option>
                        <option value="2017级">2017级</option>
                        <option value="2018级">2018级</option>
                        <option value="2019级">2019级</option>
                    </select>
                    <select name="sty_class">
                        <option value="" disabled selected>选择班级</option>
                        <option value="计工本1701">计工本1701</option>
                        <option value="计工本1702">计工本1702</option>
                        <option value="计工本1703">计工本1703</option>
                        <option value="计工本1704">计工本1704</option>
                        <option value="计信本1701">计信本1701</option>
                        <option value="计师1701">计师1701</option>
                        <option value="计本1701">计本1701</option>
                        <option value="物联网1701">物联网1701</option>
                    </select>

                    <table border="1">

                        <!--            <caption>已选 选修</caption>-->
                        <tr class="datelisthead">
                            <td>学生学号</td>
                            <td>学生姓名</td>
                            <td>学生专业</td>
                            <td>学生班级</td>
                            <td>是否删除</td>
                            <td>是否修改</td>
                        </tr>
                        {% for student in student_objs %}


                        <tr class="alt">
                            <td>{{ student.username }}</td>
                            <td>{{ student.name }}</td>
                            <td><a class="click_class" href="#">{{ student.major }}</a></td>
                            <td>{{ student.sclass }}</td>
                            <td><button class="delete">删除</button></td>
                            <td><button class="alter">修改</button></td>

                        </tr>
                        {% endfor %}
{#                        <tr class="alt">#}
{#                            <td>(2019-2020-1)1</td>#}
{#                            <td>161130206</td>#}
{#                            <td><a href="#" class="click_class"#}
{#                                   onclick="window.open('kcxx.aspx?kcdm=161130206&amp;xh=201711010111','kcxx','toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=1,resizable=0,width=490,height=500,left=200,top=50')">计算机组成原理</a>#}
{#                            </td>#}
{#                            <td>是</td>#}
{#                            <td><button class="delete">删除</button></td>#}
{#                            <td><button class="alter">修改</button></td>#}
{#                        </tr>#}
                        <!--            <canvas id="demo-canvas" style="position:absolute"></canvas>-->
                    </table>

                </div>
            </div>

        </div>
    </div>
{% endblock %}

