{% extends 'adm_based.html' %}
{% load staticfiles %}
{% block title %}SDNU-Adm-manage-student{% endblock %}
{% block content %}

    {#    {% if error_message %}#}
    {#        <script type="text/javascript">#}
    {#            alert("{{ error_message }}");#}
    {#            window.location.href = "/edu_admin/Adm_manage_students.html";#}
    {#        </script>#}
    {#    {% else %}#}
    {#        <script>#}
    {#        alert("{{ error_message }}")#}
    {#        </script>#}
    {#    {% endif %}#}

    {% if return_add == True %}
        <script type="text/javascript">
            alert("信息录入成功！");
            window.location.href = "/edu_admin/Adm_manage_students.html";
        </script>
    {% elif return_add == False %}
        <script type="text/javascript">
            alert("{{ error_message }}");
            window.location.href = "/edu_admin/Adm_manage_students.html";
        </script>
    {% elif return_upload == False %}
        <script type="text/javascript">
            alert("{{ error_message }}");
            window.location.href = "/edu_admin/Adm_manage_students.html";
        </script>
    {% elif return_upload == True %}
        <script type="text/javascript">
            alert("{{ error_message }}");
            window.location.href = "/edu_admin/Adm_manage_students.html";
        </script>
    {% else %}
    {% endif %}

    {% if return_select %}
        <script type="text/javascript">
            alert("姓名：{{ user.name }}\n学院：{{ user.school }}\n班级：{{ user.sclass }}");
            window.location.href = "/edu_admin/Adm_manage_students.html";
        </script>
    {% elif return_select == False %}
        <script type="text/javascript">
            alert("查无此人");
            window.location.href = "/edu_admin/Adm_manage_students.html";
        </script>
    {% else %}
    {% endif %}



    <script>

    </script>
    <div class="body_container1">


        <div class="body_background3">

            <div style="font-weight:700;font-size: 40px;margin: auto;padding-top: 40px;padding-left: 20px;color: #5a1216">
                管理学生
            </div>
            <div class="manage—stu">
                <!-- --------------------------------   添加学生信息------------------------------>
                <div class="big">
                    <div class="head">
                        <span><span class="icon-plus"></span>&nbsp;添加学生信息</span><br>
                    </div>
                    <div class="formd">
                        <form action="." class="form-inline" name="add_form" role="form" method="POST">{% csrf_token %}
                            <div class="form-group">
                                <label class="sr-only" for="{{ form.name.id_for_label }}">名称</label>
                                <div>{{ form.name }}</div>

                            </div>
                            <div class="form-group">
                                <label class="sr-only" for="{{ form.username.id_for_label }}">名称</label>
                                <div>{{ form.username }}</div>

                            </div>

                            <div class="form-group">
                                <label class="sr-only" for="{{ form.major.id_for_label }}">名称</label>
                                <div>{{ form.major }}</div>

                            </div>
                            <div class="form-group">
                                <label class="sr-only" for="{{ form.sclass.id_for_label }}">名称</label>
                                <div>{{ form.sclass }}</div>
                            </div>

                            <button type="submit" class="btn btn-default" name="add_button" value="add_button_commit">
                                添加
                            </button>
                        </form>
                    </div>
                </div>

                <!-- --------------------------------   查询学生信息------------------------------>
                <div class="big">
                    <div class="head">
                        <span><span class="icon-binoculars"></span>&nbsp;查询学生信息</span><br>
                    </div>
                    <div class="formd">
                        <form action="." method="post" class="form-inline" role="form">{% csrf_token %}
                            <div class="form-group">
                                <label class="sr-only" for="{{ form.username.id_for_label }}">名称</label>
                                <div>{{ form.username }}</div>
                            </div>
                            <button type="submit" class="btn btn-default" name="select_button"
                                    value="select_button_commit">查询
                            </button>
                        </form>
                    </div>
                </div>
                <!-- --------------------------------   批量导入学生信息------------------------------>
                <div class="big">
                    <div class="head">
                        <span><span class="icon-folder-upload"></span>&nbsp;批量导入学生信息</span><br>
                    </div>
                    <div class="formd">

                        <form enctype="multipart/form-data" action="." method="post" class="form-inline"
                              role="form">{% csrf_token %}

                            <div class="form-group">
                                <a href="{% url 'edu_admin:student_import' %}">下载模板</a>


                                <input type="file" id="inputfile" name="myfile" style="">
                                <input type="submit" value="上传" name="file_button" class="btn btn-default"></div>
                        </form>
                    </div>
                </div>
                <div class="Adu_table">
                    <form>
                        <select name="college">
                            <option value="" disabled selected>选择学院</option>
                            <option value="信息科学与工程学院">信息科学与工程学院</option>
                            <option value="数学科学学院">数学科学学院</option>
                            <option value="体育学院">体育学院</option>
                            <option value="物理与电子科学学院">物理与电子科学学院</option>
                            <option value="化学化工与材料科学学院">化学化工与材料科学学院</option>
                            <option value="生命科学学院">生命科学学院</option>
                            <option value="人口·资源与环境学院">人口·资源与环境学院</option>
                            <option value="传播学院">传播学院</option>
                            <option value="美术学院">美术学院</option>
                            <option value="音乐学院">音乐学院</option>
                            <option value="教育学院">教育学院</option>
                            <option value="历史文化与社会发展学院">历史文化与社会发展学院</option>
                            <option value="政法学院">政法学院</option>
                            <option value="外国语学院">外国语学院</option>
                            <option value="教育学院">教育学院</option>

                            <option value="文学院">文学院</option>
                        </select>
                        <select name="stu_major">
                            <option value="" disabled selected>选择专业</option>
                            <option value="计算机科学与技术（软件工程方向）">计算机科学与技术（软件工程方向）</option>
                            <option value="计算机科学与技术（信息技术方向）">计算机科学与技术（信息技术方向）</option>
                            <option value="计算机科学与技术">计算机科学与技术</option>
                        </select>
                        <select name="stu_grade">
                            <option value="" disabled selected>选择年级</option>
                            <option value="2016级">2016级</option>
                            <option value="2017级">2017级</option>
                            <option value="2018级">2018级</option>
                            <option value="2019级">2019级</option>
                        </select>
                        <select name="sty_class">
                            <option value="" disabled selected>选择班级</option>
                            <option value="计工本1701">计工本1701</option>
                            <option value="计工本1702">计工本1702</option>
                            <option value="计工本1703">计工本1703</option>
                            <option value="计工本1704">计工本1704</option>
                            <option value="计信本1701">计信本1701</option>
                            <option value="计师1701">计师1701</option>
                            <option value="计本1701">计本1701</option>
                            <option value="物联网1701">物联网1701</option>
                        </select>
                        <button type="submit" class="btn btn-default" name="message_select_button"
                                value="select_message_button_commit">查询
                        </button>
                    </form>

                </div>
            </div>
            <div style="margin-left: 6%;">
                <a name="table"></a>
                <table border="1">

                    <!--            <caption>已选 选修</caption>-->
                    <tr class="datelisthead">
                        <td>学生学号</td>
                        <td>学生姓名</td>
                        <td>学生专业</td>
                        <td>学生班级</td>
{#                        <td>是否删除</td>#}
                        <td>是否修改</td>
                    </tr>
                    {% for student in student_objs %}

                        <tr class="alt">
                            <td>{{ student.username }}</td>
                            <td>{{ student.name }}</td>
                            <td><a class="click_class" href="#">{{ student.major }}</a></td>
                            <td>{{ student.sclass }}</td>
{#                            <td>#}
{#                                <button class="delete">删除</button>#}
{#                            </td>#}
                            <td style="padding-right: 3%">
                                <a class="alter" href="{{ student.username }}">修改</a>
                            </td>
                        </tr>
                    {% endfor %}
                </table>
            </div>
        </div>
    </div>
{% endblock %}

