{% extends 'adm_based.html' %}
{% load staticfiles %}
{% block title %}SDNU-Adm-manage-teacher{% endblock %}
{% block content %}
    <!--<div class="body_container">   big head formd-->
    {% if add_teacher == True %}
        <script type="text/javascript">
            alert("教师信息录入成功！");
            window.location.href = "/edu_admin/Adm_manage_teachers.html";
        </script>
    {% elif add_teacher == False %}
        <script type="text/javascript">
            alert("{{ error_message }}");
            window.location.href = "/edu_admin/Adm_manage_teachers.html";
        </script>
    {% elif upload == False %}
        <script type="text/javascript">
            alert("{{ error_message }}");
            window.location.href = "/edu_admin/Adm_manage_teachers.html";
        </script>
    {% elif upload == True %}
        <script type="text/javascript">
            alert("{{ error_message }}");
            window.location.href = "/edu_admin/Adm_manage_teachers.html";
        </script>
    {% endif %}

    {% if return_select == True %}
        <script type="text/javascript">
            alert("教师：{{ user.username }}\n姓名：{{ user.name }}\n学院：{{ user.school }}\n所在系别：{{ user.major }}\n职称：{{ user.sclass }}");
            window.location.href = "/edu_admin/Adm_manage_teachers.html";
        </script>
    {% elif return_select == False %}
        <script type="text/javascript">
            alert("未查询到指定教师！");
            window.location.href = "/edu_admin/Adm_manage_teachers.html";
        </script>
    {% else %}
    {% endif %}


    <div class="return_top"></div>
    <div class="body_container1">

        <div class="body_background3">

            <div style="font-weight:700;font-size: 40px;margin: auto;padding-top: 40px;padding-left: 20px;color: #5a1216">
                管理教师
            </div>
            <div class="manage—stu">
                <!-- --------------------------------   添加教师信息------------------------------>
                <div class="big">
                    <div class="head" style="margin-top: 30px">
                        <span><span class="icon-plus"></span>&nbsp;添加教师信息</span><br>
                    </div>
                    <div class="formd">
                        <form class="form-inline" role="form" method="POST"> {% csrf_token %}
                            <div class="form-group">
                                <label class="sr-only" for="{{ form.name.id_for_label }}">名称</label>
                                {{ form.name }}
                            </div>
                            <div class="form-group">
                                <label class="sr-only" for="{{ form.username.id_for_label }}">名称</label>
                                {{ form.username }}
                            </div>
                            <div class="form-group">
                                <label class="sr-only" for="{{ form.school.id_for_label }}">名称</label>
                                {{ form.school }}
                            </div>
                            <div class="form-group">
                                <label class="sr-only" for="{{ form.major.id_for_label }}">名称</label>
                                {{ form.major }}
                            </div>
                            <div class="form-group">
                                <label class="sr-only" for="{{ form.sclass.id_for_label }}">名称</label>
                                {{ form.sclass }}
                            </div>
                            <button type="submit" class="btn btn-default" name="add_teacher">添加</button>
                        </form>
                    </div>
                </div>


                <!-- --------------------------------   查询教师信息------------------------------>
                <div class="big">
                    <div class="head" style="margin-top: 30px">
                        <span><span class="icon-binoculars"></span>&nbsp;查询教师信息</span><br>
                    </div>
                    <div class="formd">
                        <form class="form-inline" role="form" method="post">{% csrf_token %}
                            <div class="form-group">
                                <label class="sr-only" for="name">名称</label>
                                <input type="text" class="form-control" id="id"
                                       name="username" placeholder="请输入教师工号" style="width: 200px">
                            </div>

                            <button type="submit" name="select_teacher" class="btn btn-default">查询</button>
                        </form>
                    </div>
                </div>
                <!-- --------------------------------   批量导入教师信息------------------------------>
                <div class="big">
                    <div class="head" style="margin-top: 30px">
                        <span><span class="icon-folder-upload"></span>&nbsp;批量导入教师信息</span><br>
                    </div>
                    <div class="formd">

                        <form enctype="multipart/form-data" action="." method="post" class="form-inline"
                              role="form">{% csrf_token %}

                            <div class="form-group">
                                <a href="{% url 'edu_admin:teacher_import' %}">下载模板</a>


                                <input type="file" id="imputfile" name="myfile" style="">
                                <input type="submit" value="上传" name="file_button" class="btn btn-default">
                            </div>

                        </form>
                    </div>
                </div>
                <div class="Adu_table">
{#                    <select name="college">#}
{#                        <option value="" disabled selected>选择学院</option>#}
{#                        <option value="信息科学与工程学院">信息科学与工程学院</option>#}
{#                        <option value="数学科学学院">数学科学学院</option>#}
{#                        <option value="体育学院">体育学院</option>#}
{#                        <option value="物理与电子科学学院">物理与电子科学学院</option>#}
{#                        <option value="化学化工与材料科学学院">化学化工与材料科学学院</option>#}
{#                        <option value="生命科学学院">生命科学学院</option>#}
{#                        <option value="人口·资源与环境学院">人口·资源与环境学院</option>#}
{#                        <option value="传播学院">传播学院</option>#}
{#                        <option value="美术学院">美术学院</option>#}
{#                        <option value="音乐学院">音乐学院</option>#}
{#                        <option value="教育学院">教育学院</option>#}
{#                        <option value="历史文化与社会发展学院">历史文化与社会发展学院</option>#}
{#                        <option value="政法学院">政法学院</option>#}
{#                        <option value="外国语学院">外国语学院</option>#}
{#                        <option value="教育学院">教育学院</option>#}
{##}
{#                        <option value="文学院">文学院</option>#}
{#                    </select>#}
{#                    <select name="stu_major">#}
{#                        <option value="" disabled selected>选择专业</option>#}
{#                        <option value="计算机科学与技术（软件工程方向）">计算机科学与技术（软件工程方向）</option>#}
{#                        <option value="计算机科学与技术（信息技术方向）">计算机科学与技术（信息技术方向）</option>#}
{#                        <option value="计算机科学与技术">计算机科学与技术</option>#}
{#                    </select>#}

                </div>
            </div>
            <div style="margin-left: 6%;">
                <a name="table"></a>
                <table border="1">

                    <!--            <caption>已选 选修</caption>-->
                    <tr class="datelisthead">
                        <td>教师工号</td>
                        <td>教师姓名</td>
                        <td>教师所属学院</td>
                        <td>教师所属系别</td>
                        {#                    <td>是否删除</td>#}
                        <td>是否修改</td>
                    </tr>
                    {% for teacher in teacher_list %}

                        <tr class="alt">
                            <td>{{ teacher.username }}</td>
                            <td>{{ teacher.name }}</td>
                            <td><a class="click_class" href="#">{{ teacher.school }}</a></td>
                            <td>{{ teacher.major }}</td>
                            {#                        <td>#}
                            {#                            <button class="delete">删除</button>#}
                            {#                        </td>#}
                            <td style="padding-right: 3%">
                                <a class="alter" style="margin: 10px" href="{{ teacher.username }}">修改</a>
                            </td>
                        </tr>
                    {% endfor %}
                </table>
            </div>
        </div>
    </div>

{% endblock %}
